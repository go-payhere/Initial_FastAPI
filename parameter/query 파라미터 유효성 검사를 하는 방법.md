## π¤” μ ν¨μ„± κ²€μ‚¬λ€?

μ ν¨μ„± κ²€μ‚¬λ” ν”„λ΅μ„Έμ¤ λλ” μ‹μ¤ν…μ λ§¥λ½μ—μ„ κ°λ…μ΄λ‚ κµ¬μ„±μ΄ μμ© κ°€λ¥ν•μ§€ ν™•μΈν•λ” ν”„λ΅μ„Έμ¤μ…λ‹λ‹¤.  
μλ¥Ό λ“¤μ–΄ λ°μ΄ν„°μ μƒμ„±, μ†λΉ„ λ° μ΅°μ‘μ„ μ¤‘μ‹¬μΌλ΅ν•λ” μ»΄ν“¨ν„° μ‹μ¤ν…μ—μ„ μ¤λ¥κ°€ λ°μƒν•μ§€ μ•λ„λ΅ μ²λ¦¬ν•κΈ° μ „μ— λ¨λ“  λ°μ΄ν„°κ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.  
μ…λ ¥ λ°μ΄ν„°κ°€ μ‹μ¤ν… μ”κµ¬ μ‚¬ν•­μ„ μ¶©μ΅±ν•λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ μ ν¨μ„± κ²€μ‚¬κ°€ μν–‰λ©λ‹λ‹¤.

## μΏΌλ¦¬ λ§¤κ°λ³€μ λ° μ«μν• μ ν¨μ„± κ²€μ‚¬

FastAPIλ” μ¶”κ°€μ μΈ μ •λ³΄μ™€ μ ν¨μ„± κ²€μ‚¬λ¥Ό λ§¤κ°λ³€μμ— μ„ μ–Έν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

μ•„λ μ• ν”λ¦¬μΌ€μ΄μ… μμ‹λ¥Ό μ‚΄ν΄λ³΄λ©΄

```python
from typing import Annotated
from fastapi import FastAPI

app = FastAPI()

@app.get("/items/")
async def read_items(q : Annotated[str] = None):
    results = {"items":[{"item_id": "Foo"},{"item_id":"Bar"}]}
    if q:
        results.update({"q":q})
    return results
```

μΏΌλ¦¬ λ§¤κ°λ³€μ `q`λ” `Annotated[str]` μλ£ν•μ΄κ³ , μ΄λ” κ³§ str μ΄λ©΄μ„ λ™μ‹μ— `None`μ΄ λ  μ μλ‹¤λ” κ±Έ μλ―Έν•λ©°, μ‹¤μ λ΅, κΈ°λ³Έ κ°’μ΄ `None`μ΄κ² λ©λ‹λ‹¤.  
λ”°λΌμ„ FastAPIλ” μ΄κ²ƒμ΄ ν•„μλ΅ μ”κµ¬λμ§€ μ•λ” λ‹¤λ” κ²ƒμ„ μ•κ² λ©λ‹λ‹¤.

## μ¶”κ°€μ μΈ μ ν¨μ„± κ²€μ‚¬

qκ°€ μ„ νƒ μ‚¬ν•­μ΄μ§€λ§, κ°’μ΄ μ£Όμ–΄μ΅μ„ λ• **κ·Έ κΈΈμ΄κ°€ 50μλ¥Ό μ΄κ³Όν•μ§€ μ•λ„λ΅** κ°•μ ν•  κ²ƒμ…λ‹λ‹¤.

**μ„ν¬νΈ Query**
μ„ μ΅°κ±΄μ„ κµ¬ν„ν•κΈ° μ„ν•΄μ„λ” μ°μ„  fastapiλ΅ λ¶€ν„° Queryλ¥Ό μ„ν¬νΈν•΄μ•Ό ν•©λ‹λ‹¤.

```python
from typing import Optional
from fastapi import FastAPI, Query

app = FastAPI()

@app.get("/items/")
# λ§¤κ°λ³€μμ κΈ°λ³Έκ°’μ„ μ‚¬μ©ν•μ—¬, λ‹¤μκ³Ό κ°™μ΄ λ§¤κ°λ³€μ max_lengthλ¥Ό 50μΌλ΅ μ„¤μ •ν•©λ‹λ‹¤.
async def read_items(q: Optional[str] = Query(None, max_length = 50)):
    results = {"items":[{"item_id": "Foo"},{"item_id":"Bar"}]}
    if q :
        results.update({"q":q})
    return results

```

κΈ°λ³Έ κ°’ `None`μ„ `Query(None)`μΌλ΅ λ€μ²΄ν–κΈ° λ•λ¬Έμ—, `Query`μ μ²« λ²μ§Έ λ§¤κ°λ³€μλ”  
κΈ°λ³Έ κ°’μ„ μ •μν• κ²ƒκ³Ό λ™μΌν• λ©μ μΌλ΅ μ‚¬μ©λ©λ‹λ‹¤.

λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ€ μ½”λ“λ”

`q : Optional[str] = Query(None)`

λ‹¤μκ³Ό λ™μΌν•κ², λ§¤κ°λ³€μλ¥Ό μ„ νƒ μ‚¬ν•­μΌλ΅ λ§λ“­λ‹λ‹¤.

`q: Optional[str] = None`

κ·Έλ¬λ‚ μΏΌλ¦¬ λ§¤κ°λ³€μλ΅ λ…μ‹μ μ΄κ² μ„ μ–Έλ©λ‹λ‹¤.

## query νλΌλ―Έν„° μ ν¨μ„± κ²€μ‚¬λ¥Ό ν•λ” λ°©λ²• μ •λ¦¬

FastAPIμ—μ„ query νλΌλ―Έν„°μ μ ν¨μ„± κ²€μ‚¬λ¥Ό ν•λ” λ°©λ²•μ€ μ„ λ‚΄μ©μ„ ν† λ€λ΅ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. ν•„μ νλ¦¬λ―Έν„°λ΅ μ„¤μ •ν•κΈ° : query νλ¦¬λ―Έν„°λ¥Ό ν•„μλ΅ λ§λ“¤κΈ° μ„ν•΄ '...'μ„ μ‚¬μ©ν•©λ‹λ‹¤.  
   κ°’μ΄ μ£Όμ–΄μ§€μ§€ μ•μ€ κ²½μ° FastAPIλ” μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤.

```python
from fastapi import FastAPI, Query

app = FastAPI()

@app.get("/items/")
async def read_items(q: str = Query(...)):
    return {"q": q}

```

2. κΈ°λ³Έκ°’ μ„¤μ •ν•κΈ° : query νλΌλ―Έν„°μ— κΈ°λ³Έκ°’μ„ μ„¤μ •ν•μ—¬ μ„ νƒμ μΌλ΅ μ‚¬μ©ν•  μ μλ„λ΅ λ§λ“¤ μ μμµλ‹λ‹¤.

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/items/")
async def read_items(q: str = None):
    return {"q": q}

```

3. μ ν¨μ„± κ²€μ‚¬ : 'Query' ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ query νλΌλ―Έν„°μ μ ν¨μ„±μ„ κ²€μ‚¬ν•  μ μμµλ‹λ‹¤.  
   `Query` ν•¨μλ” μ—¬λ¬ λ§¤κ°λ³€μλ¥Ό λ°›μ•„ κ²€μ μµμ…μ„ μ„¤μ •ν•  μ μμµλ‹λ‹¤.

```python
from fastapi import FastAPI, Query

app = FastAPI()

@app.get("/items/")
async def read_items(q: str = Query(..., min_length=3, max_length=50)):
    return {"q": q}

```

μ„μ μμ‹μ—μ„ '...'μ€ ν•„μ νλΌλ―Έν„°μ„μ„ λ‚νƒ€λ‚΄λ©°, `min_length` μ™€ `max_length`λ” query νλΌλ―Έν„°μ κΈΈμ΄λ¥Ό μ ν•ν•λ” μµμ…μ…λ‹λ‹¤.  
λ”°λΌμ„, query νλΌλ―Έν„°μ κ°’μ΄ μ§€μ •λ λ²”μ„λ¥Ό λ²—μ–΄λ‚  κ²½μ° FastAPIλ” μ¤λ¥λ¥Ό λ°ν™ν•©λ‹λ‹¤.

μ΄λ¬ν• λ°©λ²•μ„ μ‚¬μ©ν•μ—¬ query νλΌλ―Έν„°μ μ ν¨μ„±μ„ κ²€μ‚¬ν•κ³  μ›ν•λ” κ·μΉ™μ„ μ μ©ν•  μ μμµλ‹λ‹¤.  
μ ν¨μ„± κ²€μ‚¬λ¥Ό ν†µν•΄ μλ»λ κ°’μ΄λ‚ ν•μ‹μ„ κ°€μ§„ query νλΌλ―Έν„° μ”μ²­μ— λ€ν•΄ μ μ ν• μ¤λ¥ μ‘λ‹µμ„ λ°ν™ν•  μ μμµλ‹λ‹¤.
